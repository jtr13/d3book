<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>15 Solutions  | D3 for R Users</title>
  <meta name="description" content="15 Solutions  | D3 for R Users" />
  <meta name="generator" content="bookdown 0.41 and GitBook 2.6.7" />

  <meta property="og:title" content="15 Solutions  | D3 for R Users" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="15 Solutions  | D3 for R Users" />
  
  
  

<meta name="author" content="Joyce Robbins" />


<meta name="date" content="2024-11-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="general-advice.html"/>
<link rel="next" href="correlation-coefficient.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/font-awesome-6.5.2/css/all.min.css" rel="stylesheet" />
<link href="libs/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">D3 for R Users</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome to D3</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#workflow"><i class="fa fa-check"></i><b>0.1</b> Workflow</a>
<ul>
<li class="chapter" data-level="0.1.1" data-path="index.html"><a href="index.html#javascript-console"><i class="fa fa-check"></i><b>0.1.1</b> JavaScript Console</a></li>
<li class="chapter" data-level="0.1.2" data-path="index.html"><a href="index.html#this-book-in-the-console"><i class="fa fa-check"></i><b>0.1.2</b> This book in the Console</a></li>
<li class="chapter" data-level="0.1.3" data-path="index.html"><a href="index.html#text-editor"><i class="fa fa-check"></i><b>0.1.3</b> Text editor</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="jump.html"><a href="jump.html"><i class="fa fa-check"></i><b>1</b> Quick demo <i class="fas fa-running"></i></a>
<ul>
<li class="chapter" data-level="1.1" data-path="jump.html"><a href="jump.html#get-ready"><i class="fa fa-check"></i><b>1.1</b> Get ready <i class="fas fa-forward"></i></a></li>
<li class="chapter" data-level="1.2" data-path="jump.html"><a href="jump.html#elements-tab"><i class="fa fa-check"></i><b>1.2</b> Elements tab <i class="far fa-folder"></i></a></li>
<li class="chapter" data-level="1.3" data-path="jump.html"><a href="jump.html#console-tab"><i class="fa fa-check"></i><b>1.3</b> Console tab <i class="far fa-folder"></i></a></li>
<li class="chapter" data-level="1.4" data-path="jump.html"><a href="jump.html#modify-elements"><i class="fa fa-check"></i><b>1.4</b> Modify elements <i class="fas fa-exchange-alt"></i></a></li>
<li class="chapter" data-level="1.5" data-path="jump.html"><a href="jump.html#add-transitions"><i class="fa fa-check"></i><b>1.5</b> Add transitions <i class="far fa-paper-plane"></i></a></li>
<li class="chapter" data-level="1.6" data-path="jump.html"><a href="jump.html#add-interactivity"><i class="fa fa-check"></i><b>1.6</b> Add interactivity <i class="fas fa-mouse-pointer"></i></a></li>
<li class="chapter" data-level="1.7" data-path="jump.html"><a href="jump.html#examples"><i class="fa fa-check"></i><b>1.7</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="web.html"><a href="web.html"><i class="fa fa-check"></i><b>2</b> Web tech <i class="fas fa-server"></i></a>
<ul>
<li class="chapter" data-level="2.1" data-path="web.html"><a href="web.html#html"><i class="fa fa-check"></i><b>2.1</b> HTML <i class="fab fa-html5"></i></a></li>
<li class="chapter" data-level="2.2" data-path="web.html"><a href="web.html#css"><i class="fa fa-check"></i><b>2.2</b> CSS <i class="fab fa-css3"></i></a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="web.html"><a href="web.html#internal-style-sheet"><i class="fa fa-check"></i><b>2.2.1</b> Internal style sheet</a></li>
<li class="chapter" data-level="2.2.2" data-path="web.html"><a href="web.html#external-style-sheets"><i class="fa fa-check"></i><b>2.2.2</b> External style sheets</a></li>
<li class="chapter" data-level="2.2.3" data-path="web.html"><a href="web.html#inline-styling"><i class="fa fa-check"></i><b>2.2.3</b> Inline styling</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="web.html"><a href="web.html#svg"><i class="fa fa-check"></i><b>2.3</b> SVG <i class="far fa-image"></i></a></li>
<li class="chapter" data-level="2.4" data-path="web.html"><a href="web.html#javascript"><i class="fa fa-check"></i><b>2.4</b> JavaScript <i class="fab fa-js-square"></i></a></li>
<li class="chapter" data-level="2.5" data-path="web.html"><a href="web.html#d3"><i class="fa fa-check"></i><b>2.5</b> D3 <i class="far fa-chart-bar"></i></a></li>
<li class="chapter" data-level="2.6" data-path="web.html"><a href="web.html#html-tree"><i class="fa fa-check"></i><b>2.6</b> HTML tree <i class="fas fa-tree"></i></a></li>
<li class="chapter" data-level="2.7" data-path="web.html"><a href="web.html#exercise-shapes"><i class="fa fa-check"></i><b>2.7</b> Exercise <i class="fas fa-dumbbell"></i>: shapes</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="d3console.html"><a href="d3console.html"><i class="fa fa-check"></i><b>3</b> Modify, Add, Remove <i class="fa-solid fa-shapes"></i></a>
<ul>
<li class="chapter" data-level="3.1" data-path="d3console.html"><a href="d3console.html#selections"><i class="fa fa-check"></i><b>3.1</b> Selections <i class="fas fa-clipboard-list"></i></a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="d3console.html"><a href="d3console.html#select-by-tag"><i class="fa fa-check"></i><b>3.1.1</b> Select by tag</a></li>
<li class="chapter" data-level="3.1.2" data-path="d3console.html"><a href="d3console.html#select-by-class"><i class="fa fa-check"></i><b>3.1.2</b> Select by class</a></li>
<li class="chapter" data-level="3.1.3" data-path="d3console.html"><a href="d3console.html#select-by-id"><i class="fa fa-check"></i><b>3.1.3</b> Select by ID</a></li>
<li class="chapter" data-level="3.1.4" data-path="d3console.html"><a href="d3console.html#store-selections"><i class="fa fa-check"></i><b>3.1.4</b> Store selections</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="d3console.html"><a href="d3console.html#modify-existing-elements"><i class="fa fa-check"></i><b>3.2</b> Modify existing elements <i class="fas fa-exchange-alt"></i></a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="d3console.html"><a href="d3console.html#modify-attributes"><i class="fa fa-check"></i><b>3.2.1</b> Modify attributes</a></li>
<li class="chapter" data-level="3.2.2" data-path="d3console.html"><a href="d3console.html#modify-styles"><i class="fa fa-check"></i><b>3.2.2</b> Modify styles</a></li>
<li class="chapter" data-level="3.2.3" data-path="d3console.html"><a href="d3console.html#modify-text"><i class="fa fa-check"></i><b>3.2.3</b> Modify text</a></li>
<li class="chapter" data-level="3.2.4" data-path="d3console.html"><a href="d3console.html#move-svg-text"><i class="fa fa-check"></i><b>3.2.4</b> Move SVG text</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="d3console.html"><a href="d3console.html#add-elements"><i class="fa fa-check"></i><b>3.3</b> Add elements <i class="far fa-plus-square"></i></a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="d3console.html"><a href="d3console.html#html-1"><i class="fa fa-check"></i><b>3.3.1</b> HTML</a></li>
<li class="chapter" data-level="3.3.2" data-path="d3console.html"><a href="d3console.html#svg-1"><i class="fa fa-check"></i><b>3.3.2</b> SVG</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="d3console.html"><a href="d3console.html#remove-elements"><i class="fa fa-check"></i><b>3.4</b> Remove elements <i class="far fa-minus-square"></i></a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="d3console.html"><a href="d3console.html#html-2"><i class="fa fa-check"></i><b>3.4.1</b> HTML</a></li>
<li class="chapter" data-level="3.4.2" data-path="d3console.html"><a href="d3console.html#svg-2"><i class="fa fa-check"></i><b>3.4.2</b> SVG</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="d3console.html"><a href="d3console.html#exercise-green-circles"><i class="fa fa-check"></i><b>3.5</b> Exercise <i class="fas fa-dumbbell"></i>: green circles</a></li>
<li class="chapter" data-level="3.6" data-path="d3console.html"><a href="d3console.html#exercise-blue-circles"><i class="fa fa-check"></i><b>3.6</b> Exercise <i class="fas fa-dumbbell"></i> <i class="fas fa-dumbbell"></i>: blue circles</a></li>
<li class="chapter" data-level="3.7" data-path="d3console.html"><a href="d3console.html#bind-data-finally"><i class="fa fa-check"></i><b>3.7</b> Bind data… <em>finally!</em> <i class="fas fa-table"></i></a></li>
<li class="chapter" data-level="3.8" data-path="d3console.html"><a href="d3console.html#exercise-data-bind"><i class="fa fa-check"></i><b>3.8</b> Exercise <i class="fas fa-dumbbell"></i>: data bind</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html"><i class="fa fa-check"></i><b>4</b> Update, Enter, and Exit <i class="fa fa-refresh"></i></a>
<ul>
<li class="chapter" data-level="4.1" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#lecture-slides"><i class="fa fa-check"></i><b>4.1</b> Lecture slides <i class="fa fa-television"></i></a></li>
<li class="chapter" data-level="4.2" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#use-exit-selection-to-remove-elements"><i class="fa fa-check"></i><b>4.2</b> Use exit selection to remove elements <i class="far fa-minus-square"></i></a></li>
<li class="chapter" data-level="4.3" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#use-enter-selection-to-add-elements"><i class="fa fa-check"></i><b>4.3</b> Use enter selection to add elements <i class="far fa-plus-square"></i></a></li>
<li class="chapter" data-level="4.4" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#data-enter-append-sequence"><i class="fa fa-check"></i><b>4.4</b> Data / enter / append sequence <i class="fa fa-table"></i></a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#labels"><i class="fa fa-check"></i><b>4.4.1</b> Labels</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#exercise-horizontal-bar-chart"><i class="fa fa-check"></i><b>4.5</b> Exercise <i class="fas fa-dumbbell"></i>: horizontal bar chart</a></li>
<li class="chapter" data-level="4.6" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#merge-selections"><i class="fa fa-check"></i><b>4.6</b> Merge selections <i class="fa fa-code-fork"></i></a></li>
<li class="chapter" data-level="4.7" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#exercise-merge"><i class="fa fa-check"></i><b>4.7</b> Exercise <i class="fas fa-dumbbell"></i>: merge</a></li>
<li class="chapter" data-level="4.8" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#groups"><i class="fa fa-check"></i><b>4.8</b> Groups <i class="fa fa-object-group"></i></a></li>
<li class="chapter" data-level="4.9" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#general-update-pattern-with-merge"><i class="fa fa-check"></i><b>4.9</b> General Update Pattern (with merge)</a></li>
<li class="chapter" data-level="4.10" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#general-update-pattern-with-join"><i class="fa fa-check"></i><b>4.10</b> General Update Pattern (with join)</a></li>
<li class="chapter" data-level="4.11" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#exercise-functions"><i class="fa fa-check"></i><b>4.11</b> Exercise: <i class="fas fa-dumbbell"></i>: functions</a></li>
<li class="chapter" data-level="4.12" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#exercise-vertical-bar-chart"><i class="fa fa-check"></i><b>4.12</b> Exercise <i class="fas fa-dumbbell"></i>: vertical bar chart</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="just-enough-js.html"><a href="just-enough-js.html"><i class="fa fa-check"></i><b>5</b> Just Enough JS <i class="fab fa-js-square"></i></a>
<ul>
<li class="chapter" data-level="5.1" data-path="just-enough-js.html"><a href="just-enough-js.html#arrays-of-arrays"><i class="fa fa-check"></i><b>5.1</b> Arrays of arrays</a></li>
<li class="chapter" data-level="5.2" data-path="just-enough-js.html"><a href="just-enough-js.html#arrays-of-objects"><i class="fa fa-check"></i><b>5.2</b> Arrays of objects</a></li>
<li class="chapter" data-level="5.3" data-path="just-enough-js.html"><a href="just-enough-js.html#map"><i class="fa fa-check"></i><b>5.3</b> <code>.map()</code></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="just-enough-js.html"><a href="just-enough-js.html#simple-arrays"><i class="fa fa-check"></i><b>5.3.1</b> Simple arrays</a></li>
<li class="chapter" data-level="5.3.2" data-path="just-enough-js.html"><a href="just-enough-js.html#arrays-of-arrays-1"><i class="fa fa-check"></i><b>5.3.2</b> Arrays of arrays</a></li>
<li class="chapter" data-level="5.3.3" data-path="just-enough-js.html"><a href="just-enough-js.html#create-arrays-of-objects"><i class="fa fa-check"></i><b>5.3.3</b> Create arrays of objects</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="just-enough-js.html"><a href="just-enough-js.html#d3-sorting"><i class="fa fa-check"></i><b>5.4</b> D3 sorting</a></li>
<li class="chapter" data-level="5.5" data-path="just-enough-js.html"><a href="just-enough-js.html#d3-statistics"><i class="fa fa-check"></i><b>5.5</b> D3 statistics</a></li>
<li class="chapter" data-level="5.6" data-path="just-enough-js.html"><a href="just-enough-js.html#d3-.map"><i class="fa fa-check"></i><b>5.6</b> D3 + <code>.map()</code></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="scales-and-axes.html"><a href="scales-and-axes.html"><i class="fa fa-check"></i><b>6</b> Scales and Axes <i class="fa fa-arrows"></i></a>
<ul>
<li class="chapter" data-level="6.1" data-path="scales-and-axes.html"><a href="scales-and-axes.html#scales"><i class="fa fa-check"></i><b>6.1</b> Scales</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="scales-and-axes.html"><a href="scales-and-axes.html#lecture-slides-1"><i class="fa fa-check"></i><b>6.1.1</b> Lecture slides <i class="fa fa-television"></i></a></li>
<li class="chapter" data-level="6.1.2" data-path="scales-and-axes.html"><a href="scales-and-axes.html#practice"><i class="fa fa-check"></i><b>6.1.2</b> Practice</a></li>
<li class="chapter" data-level="6.1.3" data-path="scales-and-axes.html"><a href="scales-and-axes.html#exercise-vertical-bar-chart-1"><i class="fa fa-check"></i><b>6.1.3</b> Exercise <i class="fas fa-dumbbell"></i>: vertical bar chart</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="scales-and-axes.html"><a href="scales-and-axes.html#margins"><i class="fa fa-check"></i><b>6.2</b> Margins</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="scales-and-axes.html"><a href="scales-and-axes.html#lecture-slides-2"><i class="fa fa-check"></i><b>6.2.1</b> Lecture slides <i class="fa fa-television"></i></a></li>
<li class="chapter" data-level="6.2.2" data-path="scales-and-axes.html"><a href="scales-and-axes.html#bar-chart-with-margins"><i class="fa fa-check"></i><b>6.2.2</b> Bar chart with margins</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="scales-and-axes.html"><a href="scales-and-axes.html#axes"><i class="fa fa-check"></i><b>6.3</b> Axes</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="scales-and-axes.html"><a href="scales-and-axes.html#lecture-slides-3"><i class="fa fa-check"></i><b>6.3.1</b> Lecture slides <i class="fa fa-television"></i></a></li>
<li class="chapter" data-level="6.3.2" data-path="scales-and-axes.html"><a href="scales-and-axes.html#bar-chart-with-axes"><i class="fa fa-check"></i><b>6.3.2</b> Bar chart with axes</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="scales-and-axes.html"><a href="scales-and-axes.html#bar-chart-with-categorical-labels"><i class="fa fa-check"></i><b>6.4</b> Bar chart with categorical labels</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="interactivity.html"><a href="interactivity.html"><i class="fa fa-check"></i><b>7</b> Interactivity <i class="fas fa-mouse-pointer"></i></a>
<ul>
<li class="chapter" data-level="7.1" data-path="interactivity.html"><a href="interactivity.html#binding-event-listeners-to-svg-elements"><i class="fa fa-check"></i><b>7.1</b> Binding event listeners to SVG elements</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="interactivity.html"><a href="interactivity.html#do-something-unrelated-to-the-element-that-received-the-event"><i class="fa fa-check"></i><b>7.1.1</b> Do something unrelated to the element that received the event</a></li>
<li class="chapter" data-level="7.1.2" data-path="interactivity.html"><a href="interactivity.html#change-an-attribute-of-the-element-that-received-the-event"><i class="fa fa-check"></i><b>7.1.2</b> Change an attribute of the element that received the event</a></li>
<li class="chapter" data-level="7.1.3" data-path="interactivity.html"><a href="interactivity.html#get-the-value-of-an-attribute-of-the-element-that-received-the-event"><i class="fa fa-check"></i><b>7.1.3</b> Get the value of an attribute of the element that received the event</a></li>
<li class="chapter" data-level="7.1.4" data-path="interactivity.html"><a href="interactivity.html#do-something-with-the-data-bound-to-the-element-that-received-the-event"><i class="fa fa-check"></i><b>7.1.4</b> Do something with the data bound to the element that received the event</a></li>
<li class="chapter" data-level="7.1.5" data-path="interactivity.html"><a href="interactivity.html#get-the-svg-location-of-the-event"><i class="fa fa-check"></i><b>7.1.5</b> Get the svg location of the event</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="interactivity.html"><a href="interactivity.html#separating-the-function-and-event-listener"><i class="fa fa-check"></i><b>7.2</b> Separating the function and event listener</a></li>
<li class="chapter" data-level="7.3" data-path="interactivity.html"><a href="interactivity.html#html-buttons"><i class="fa fa-check"></i><b>7.3</b> HTML buttons</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="interactivity.html"><a href="interactivity.html#exercise"><i class="fa fa-check"></i><b>7.3.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="interactivity.html"><a href="interactivity.html#radio-buttons"><i class="fa fa-check"></i><b>7.4</b> Radio buttons</a></li>
<li class="chapter" data-level="7.5" data-path="interactivity.html"><a href="interactivity.html#dependent-event-listeners"><i class="fa fa-check"></i><b>7.5</b> Dependent event listeners</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="interactivity.html"><a href="interactivity.html#global-variable-example"><i class="fa fa-check"></i><b>7.5.1</b> Global variable example</a></li>
<li class="chapter" data-level="7.5.2" data-path="interactivity.html"><a href="interactivity.html#turn-off-event-listener"><i class="fa fa-check"></i><b>7.5.2</b> Turn off event listener</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="transitions.html"><a href="transitions.html"><i class="fa fa-check"></i><b>8</b> Transitions <i class="far fa-paper-plane"></i></a>
<ul>
<li class="chapter" data-level="8.1" data-path="transitions.html"><a href="transitions.html#examples-1"><i class="fa fa-check"></i><b>8.1</b> Examples</a></li>
<li class="chapter" data-level="8.2" data-path="transitions.html"><a href="transitions.html#do-this"><i class="fa fa-check"></i><b>8.2</b> Do this</a></li>
<li class="chapter" data-level="8.3" data-path="transitions.html"><a href="transitions.html#not-this"><i class="fa fa-check"></i><b>8.3</b> Not this</a></li>
<li class="chapter" data-level="8.4" data-path="transitions.html"><a href="transitions.html#strategy"><i class="fa fa-check"></i><b>8.4</b> Strategy</a></li>
<li class="chapter" data-level="8.5" data-path="transitions.html"><a href="transitions.html#exercise-bar-chart-with-transitions"><i class="fa fa-check"></i><b>8.5</b> Exercise <i class="fas fa-dumbbell"></i>: Bar chart with transitions</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="object.html"><a href="object.html"><i class="fa fa-check"></i><b>9</b> Object Constancy <i class="fa fa-object-ungroup"></i></a>
<ul>
<li class="chapter" data-level="9.1" data-path="object.html"><a href="object.html#lecture-slides-4"><i class="fa fa-check"></i><b>9.1</b> Lecture slides <i class="fa fa-television"></i></a></li>
<li class="chapter" data-level="9.2" data-path="object.html"><a href="object.html#no-object-constancy"><i class="fa fa-check"></i><b>9.2</b> No object constancy</a></li>
<li class="chapter" data-level="9.3" data-path="object.html"><a href="object.html#object-constancy"><i class="fa fa-check"></i><b>9.3</b> Object constancy</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="object.html"><a href="object.html#practice-joining-data-by-key"><i class="fa fa-check"></i><b>9.3.1</b> Practice joining data by key</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="reading-files.html"><a href="reading-files.html"><i class="fa fa-check"></i><b>10</b> Reading files <i class="fa fa-file-text-o"></i></a>
<ul>
<li class="chapter" data-level="10.1" data-path="reading-files.html"><a href="reading-files.html#promises"><i class="fa fa-check"></i><b>10.1</b> Promises</a></li>
<li class="chapter" data-level="10.2" data-path="reading-files.html"><a href="reading-files.html#local-server"><i class="fa fa-check"></i><b>10.2</b> Local server</a></li>
<li class="chapter" data-level="10.3" data-path="reading-files.html"><a href="reading-files.html#other-local-options"><i class="fa fa-check"></i><b>10.3</b> Other local options</a></li>
<li class="chapter" data-level="10.4" data-path="reading-files.html"><a href="reading-files.html#hosting-online"><i class="fa fa-check"></i><b>10.4</b> Hosting online</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="share-d3-online.html"><a href="share-d3-online.html"><i class="fa fa-check"></i><b>11</b> Share D3 online <i class="fa share-square"></i></a>
<ul>
<li class="chapter" data-level="11.1" data-path="share-d3-online.html"><a href="share-d3-online.html#quarto"><i class="fa fa-check"></i><b>11.1</b> Quarto</a>
<ul>
<li class="chapter" data-level="" data-path="share-d3-online.html"><a href="share-d3-online.html#separate-.js-file"><i class="fa fa-check"></i>Separate <code>.js</code> file</a></li>
<li class="chapter" data-level="" data-path="share-d3-online.html"><a href="share-d3-online.html#iframe"><i class="fa fa-check"></i>iframe</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="share-d3-online.html"><a href="share-d3-online.html#observable"><i class="fa fa-check"></i><b>11.2</b> Observable</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="line-charts.html"><a href="line-charts.html"><i class="fa fa-check"></i><b>12</b> Line charts <i class="fa fa-line-chart"></i></a>
<ul>
<li class="chapter" data-level="12.1" data-path="line-charts.html"><a href="line-charts.html#lecture-slides-5"><i class="fa fa-check"></i><b>12.1</b> Lecture slides <i class="fa fa-television"></i></a></li>
<li class="chapter" data-level="12.2" data-path="line-charts.html"><a href="line-charts.html#svg-line-element"><i class="fa fa-check"></i><b>12.2</b> SVG <code>&lt;line&gt;</code> element</a></li>
<li class="chapter" data-level="12.3" data-path="line-charts.html"><a href="line-charts.html#svg-path-element"><i class="fa fa-check"></i><b>12.3</b> SVG <code>&lt;path&gt;</code> element</a></li>
<li class="chapter" data-level="12.4" data-path="line-charts.html"><a href="line-charts.html#data-for-line-chart"><i class="fa fa-check"></i><b>12.4</b> Data for line chart</a></li>
<li class="chapter" data-level="12.5" data-path="line-charts.html"><a href="line-charts.html#create-a-line-generator"><i class="fa fa-check"></i><b>12.5</b> Create a line generator</a></li>
<li class="chapter" data-level="12.6" data-path="line-charts.html"><a href="line-charts.html#put-the-line-generator-to-work"><i class="fa fa-check"></i><b>12.6</b> Put the line generator to work</a></li>
<li class="chapter" data-level="12.7" data-path="line-charts.html"><a href="line-charts.html#additional-resources"><i class="fa fa-check"></i><b>12.7</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="layouts.html"><a href="layouts.html"><i class="fa fa-check"></i><b>13</b> Layouts <i class="fa fa-bar-chart"></i></a>
<ul>
<li class="chapter" data-level="13.1" data-path="layouts.html"><a href="layouts.html#lecture-slides-6"><i class="fa fa-check"></i><b>13.1</b> Lecture slides <i class="fa fa-television"></i></a></li>
<li class="chapter" data-level="13.2" data-path="layouts.html"><a href="layouts.html#set-up-data-and-stack-method"><i class="fa fa-check"></i><b>13.2</b> Set up data and stack method</a></li>
<li class="chapter" data-level="13.3" data-path="layouts.html"><a href="layouts.html#set-up-scales"><i class="fa fa-check"></i><b>13.3</b> Set up scales</a></li>
<li class="chapter" data-level="13.4" data-path="layouts.html"><a href="layouts.html#add-groups"><i class="fa fa-check"></i><b>13.4</b> Add groups</a></li>
<li class="chapter" data-level="13.5" data-path="layouts.html"><a href="layouts.html#add-rectangles"><i class="fa fa-check"></i><b>13.5</b> Add rectangles</a></li>
<li class="chapter" data-level="13.6" data-path="layouts.html"><a href="layouts.html#get-the-code"><i class="fa fa-check"></i><b>13.6</b> Get the code</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="general-advice.html"><a href="general-advice.html"><i class="fa fa-check"></i><b>14</b> General Advice <i class="fa fa-bug"></i></a>
<ul>
<li class="chapter" data-level="14.1" data-path="general-advice.html"><a href="general-advice.html#debugging-tips"><i class="fa fa-check"></i><b>14.1</b> Debugging Tips</a></li>
<li class="chapter" data-level="14.2" data-path="general-advice.html"><a href="general-advice.html#other"><i class="fa fa-check"></i><b>14.2</b> Other</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="solutions.html"><a href="solutions.html"><i class="fa fa-check"></i><b>15</b> Solutions <i class="fa fa-check-square-o"></i></a>
<ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#web-tech-shapes"><i class="fa fa-check"></i>Web tech: shapes</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#d3-in-the-console-green-circles"><i class="fa fa-check"></i>D3 in the Console: green circles</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#d3-in-the-console-blue-circles"><i class="fa fa-check"></i>D3 in the Console: blue circles</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#d3-in-the-console-data-bind"><i class="fa fa-check"></i>D3 in the Console: data bind</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#update-enter-and-exit-horizontal-bar-chart"><i class="fa fa-check"></i>Update, Enter, and Exit: horizontal bar chart</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#update-enter-and-exit-merge"><i class="fa fa-check"></i>Update, Enter, and Exit: merge</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#update-enter-and-exit-functions"><i class="fa fa-check"></i>Update, Enter, and Exit: functions</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#update-enter-and-exit-vertical-bar-chart"><i class="fa fa-check"></i>Update, Enter, and Exit: vertical bar chart</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#transitions-bar-chart-with-transitions"><i class="fa fa-check"></i>Transitions: bar chart with transitions</a></li>
</ul></li>
<li class="part"><span><b>I Examples</b></span></li>
<li class="chapter" data-level="16" data-path="correlation-coefficient.html"><a href="correlation-coefficient.html"><i class="fa fa-check"></i><b>16</b> Correlation Coefficient</a></li>
<li class="chapter" data-level="17" data-path="spearman-rank-correlation-coefficient.html"><a href="spearman-rank-correlation-coefficient.html"><i class="fa fa-check"></i><b>17</b> Spearman Rank Correlation Coefficient</a></li>
<li class="chapter" data-level="18" data-path="population-density.html"><a href="population-density.html"><i class="fa fa-check"></i><b>18</b> Population Density</a></li>
<li class="chapter" data-level="19" data-path="weather-forecast.html"><a href="weather-forecast.html"><i class="fa fa-check"></i><b>19</b> Weather forecast</a></li>
<li class="part"><span><b>II Appendices</b></span></li>
<li class="chapter" data-level="20" data-path="appendix-advanced-css.html"><a href="appendix-advanced-css.html"><i class="fa fa-check"></i><b>20</b> Appendix: advanced CSS</a>
<ul>
<li class="chapter" data-level="20.1" data-path="appendix-advanced-css.html"><a href="appendix-advanced-css.html#buttons"><i class="fa fa-check"></i><b>20.1</b> Buttons</a>
<ul>
<li class="chapter" data-level="20.1.1" data-path="appendix-advanced-css.html"><a href="appendix-advanced-css.html#active"><i class="fa fa-check"></i><b>20.1.1</b> <code>.active</code></a></li>
<li class="chapter" data-level="20.1.2" data-path="appendix-advanced-css.html"><a href="appendix-advanced-css.html#active-1"><i class="fa fa-check"></i><b>20.1.2</b> <code>:active</code></a></li>
<li class="chapter" data-level="20.1.3" data-path="appendix-advanced-css.html"><a href="appendix-advanced-css.html#focus"><i class="fa fa-check"></i><b>20.1.3</b> <code>:focus</code></a></li>
<li class="chapter" data-level="20.1.4" data-path="appendix-advanced-css.html"><a href="appendix-advanced-css.html#hover"><i class="fa fa-check"></i><b>20.1.4</b> <code>:hover</code></a></li>
<li class="chapter" data-level="20.1.5" data-path="appendix-advanced-css.html"><a href="appendix-advanced-css.html#example"><i class="fa fa-check"></i><b>20.1.5</b> Example</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">D3 for R Users</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="solutions" class="section level1 hasAnchor" number="15">
<h1><span class="header-section-number">15</span> Solutions <i class="fa fa-check-square-o"></i><a href="solutions.html#solutions" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="web-tech-shapes" class="section level3 unnumbered hasAnchor" number="">
<h3>Web tech: shapes<a href="solutions.html#web-tech-shapes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="solutions/webtech_shapes.html" target="_blank">Solution</a></p>
<p><em>Contributed by Tracy Liu</em></p>
</div>
<div id="d3-in-the-console-green-circles" class="section level3 unnumbered hasAnchor" number="">
<h3>D3 in the Console: green circles<a href="solutions.html#d3-in-the-console-green-circles" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>Select the circle with ID “henry” and make it blue.</li>
</ol>
<div class="sourceCode" id="cb179"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb179-1"><a href="solutions.html#cb179-1" aria-hidden="true"></a>d3<span class="op">.</span><span class="fu">select</span>(<span class="st">&quot;svg&quot;</span>)</span>
<span id="cb179-2"><a href="solutions.html#cb179-2" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">select</span>(<span class="st">&quot;circle#henry&quot;</span>)</span>
<span id="cb179-3"><a href="solutions.html#cb179-3" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">transition</span>()  <span class="co">// optional</span></span>
<span id="cb179-4"><a href="solutions.html#cb179-4" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">duration</span>(<span class="dv">1000</span>) <span class="co">// optional</span></span>
<span id="cb179-5"><a href="solutions.html#cb179-5" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;fill&quot;</span><span class="op">,</span><span class="st">&quot;blue&quot;</span>)<span class="op">;</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Select all circles of “apple” class make them red.</li>
</ol>
<div class="sourceCode" id="cb180"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb180-1"><a href="solutions.html#cb180-1" aria-hidden="true"></a>d3<span class="op">.</span><span class="fu">select</span>(<span class="st">&quot;svg&quot;</span>)</span>
<span id="cb180-2"><a href="solutions.html#cb180-2" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">selectAll</span>(<span class="st">&quot;circle.apple&quot;</span>)</span>
<span id="cb180-3"><a href="solutions.html#cb180-3" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;fill&quot;</span><span class="op">,</span> <span class="st">&quot;red&quot;</span>)<span class="op">;</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Select the first circle and add an orange border (“stroke”), and stroke width (“stroke-width”) of 5.</li>
</ol>
<div class="sourceCode" id="cb181"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb181-1"><a href="solutions.html#cb181-1" aria-hidden="true"></a>d3<span class="op">.</span><span class="fu">select</span>(<span class="st">&quot;svg&quot;</span>)</span>
<span id="cb181-2"><a href="solutions.html#cb181-2" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">select</span>(<span class="st">&quot;circle&quot;</span>)</span>
<span id="cb181-3"><a href="solutions.html#cb181-3" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;stroke&quot;</span><span class="op">,</span> <span class="st">&quot;orange&quot;</span>)</span>
<span id="cb181-4"><a href="solutions.html#cb181-4" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;stroke-width&quot;</span><span class="op">,</span> <span class="st">&quot;5&quot;</span>)<span class="op">;</span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Select all circles of “apple” class and move them to the middle of the svg.</li>
</ol>
<div class="sourceCode" id="cb182"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb182-1"><a href="solutions.html#cb182-1" aria-hidden="true"></a>d3<span class="op">.</span><span class="fu">select</span>(<span class="st">&quot;svg&quot;</span>)</span>
<span id="cb182-2"><a href="solutions.html#cb182-2" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">selectAll</span>(<span class="st">&quot;circle.apple&quot;</span>)</span>
<span id="cb182-3"><a href="solutions.html#cb182-3" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb182-4"><a href="solutions.html#cb182-4" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">duration</span>(<span class="dv">2000</span>)</span>
<span id="cb182-5"><a href="solutions.html#cb182-5" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;cx&quot;</span><span class="op">,</span> d3<span class="op">.</span><span class="fu">select</span>(<span class="st">&quot;svg&quot;</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;width&quot;</span>) <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb182-6"><a href="solutions.html#cb182-6" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;cy&quot;</span><span class="op">,</span> d3<span class="op">.</span><span class="fu">select</span>(<span class="st">&quot;svg&quot;</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;height&quot;</span>) <span class="op">/</span> <span class="dv">2</span>)<span class="op">;</span></span></code></pre></div>
<p><em>Contributed by Tracy Liu</em></p>
</div>
<div id="d3-in-the-console-blue-circles" class="section level3 unnumbered hasAnchor" number="">
<h3>D3 in the Console: blue circles<a href="solutions.html#d3-in-the-console-blue-circles" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>Move all the circles to the right.</li>
</ol>
<div class="sourceCode" id="cb183"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb183-1"><a href="solutions.html#cb183-1" aria-hidden="true"></a><span class="kw">const</span> svg <span class="op">=</span> d3<span class="op">.</span><span class="fu">select</span>(<span class="st">&quot;svg&quot;</span>)</span>
<span id="cb183-2"><a href="solutions.html#cb183-2" aria-hidden="true"></a>svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">&quot;circle&quot;</span>)</span>
<span id="cb183-3"><a href="solutions.html#cb183-3" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb183-4"><a href="solutions.html#cb183-4" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">duration</span>(<span class="dv">2000</span>)</span>
<span id="cb183-5"><a href="solutions.html#cb183-5" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;cx&quot;</span><span class="op">,</span> <span class="dv">450</span>)<span class="op">;</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Move them back to the left <em>and</em> change their color.</li>
</ol>
<div class="sourceCode" id="cb184"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb184-1"><a href="solutions.html#cb184-1" aria-hidden="true"></a>svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">&quot;circle&quot;</span>)</span>
<span id="cb184-2"><a href="solutions.html#cb184-2" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb184-3"><a href="solutions.html#cb184-3" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">duration</span>(<span class="dv">2000</span>)</span>
<span id="cb184-4"><a href="solutions.html#cb184-4" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;cx&quot;</span><span class="op">,</span> <span class="dv">50</span>)</span>
<span id="cb184-5"><a href="solutions.html#cb184-5" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;fill&quot;</span><span class="op">,</span> <span class="st">&quot;red&quot;</span>)<span class="op">;</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>In a text editor, add an id to the third circle in <code>six_blue_circles.html</code>, save the file, and then in the Console, move only that circle to the right.</li>
</ol>
<div class="sourceCode" id="cb185"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb185-1"><a href="solutions.html#cb185-1" aria-hidden="true"></a>svg<span class="op">.</span><span class="fu">select</span>(<span class="st">&quot;circle#third&quot;</span>)</span>
<span id="cb185-2"><a href="solutions.html#cb185-2" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb185-3"><a href="solutions.html#cb185-3" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">duration</span>(<span class="dv">2000</span>)</span>
<span id="cb185-4"><a href="solutions.html#cb185-4" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;cx&quot;</span><span class="op">,</span> <span class="st">&quot;450&quot;</span>)<span class="op">;</span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Move all the circles to the middle of the screen, <em>then</em> move them all to the same location.</li>
</ol>
<div class="sourceCode" id="cb186"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb186-1"><a href="solutions.html#cb186-1" aria-hidden="true"></a>svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">&quot;circle&quot;</span>)</span>
<span id="cb186-2"><a href="solutions.html#cb186-2" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb186-3"><a href="solutions.html#cb186-3" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">duration</span>(<span class="dv">2000</span>)</span>
<span id="cb186-4"><a href="solutions.html#cb186-4" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;cx&quot;</span><span class="op">,</span> <span class="dv">250</span>)</span>
<span id="cb186-5"><a href="solutions.html#cb186-5" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb186-6"><a href="solutions.html#cb186-6" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">duration</span>(<span class="dv">2000</span>)</span>
<span id="cb186-7"><a href="solutions.html#cb186-7" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;cy&quot;</span><span class="op">,</span> <span class="dv">200</span>)<span class="op">;</span></span></code></pre></div>
<p>(Extra: return the circles to their starting positions.)</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb187-1"><a href="solutions.html#cb187-1" aria-hidden="true"></a><span class="kw">const</span> circ <span class="op">=</span> svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">&quot;circle&quot;</span>)  </span>
<span id="cb187-2"><a href="solutions.html#cb187-2" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">data</span>([<span class="dv">100</span><span class="op">,</span> <span class="dv">150</span><span class="op">,</span> <span class="dv">200</span><span class="op">,</span> <span class="dv">250</span><span class="op">,</span> <span class="dv">300</span><span class="op">,</span> <span class="dv">350</span>])<span class="op">;</span></span>
<span id="cb187-3"><a href="solutions.html#cb187-3" aria-hidden="true"></a>    </span>
<span id="cb187-4"><a href="solutions.html#cb187-4" aria-hidden="true"></a>circ<span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb187-5"><a href="solutions.html#cb187-5" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">duration</span>(<span class="dv">2000</span>)</span>
<span id="cb187-6"><a href="solutions.html#cb187-6" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;cx&quot;</span><span class="op">,</span> <span class="dv">50</span>)</span>
<span id="cb187-7"><a href="solutions.html#cb187-7" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;cy&quot;</span><span class="op">,</span> d <span class="kw">=&gt;</span> d)</span>
<span id="cb187-8"><a href="solutions.html#cb187-8" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;fill&quot;</span><span class="op">,</span> <span class="st">&quot;blue&quot;</span>)<span class="op">;</span></span></code></pre></div>
<p><em>Contributed by Tracy Liu</em></p>
</div>
<div id="d3-in-the-console-data-bind" class="section level3 unnumbered hasAnchor" number="">
<h3>D3 in the Console: data bind<a href="solutions.html#d3-in-the-console-data-bind" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb188"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb188-1"><a href="solutions.html#cb188-1" aria-hidden="true"></a><span class="kw">const</span> bluedata <span class="op">=</span> [<span class="dv">30</span><span class="op">,</span> <span class="dv">20</span><span class="op">,</span> <span class="dv">40</span><span class="op">,</span> <span class="dv">70</span><span class="op">,</span> <span class="dv">120</span><span class="op">,</span> <span class="dv">70</span>]<span class="op">;</span></span>
<span id="cb188-2"><a href="solutions.html#cb188-2" aria-hidden="true"></a></span>
<span id="cb188-3"><a href="solutions.html#cb188-3" aria-hidden="true"></a><span class="kw">const</span> circ <span class="op">=</span> d3<span class="op">.</span><span class="fu">select</span>(<span class="st">&quot;svg&quot;</span>)</span>
<span id="cb188-4"><a href="solutions.html#cb188-4" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">selectAll</span>(<span class="st">&quot;circle&quot;</span>)</span>
<span id="cb188-5"><a href="solutions.html#cb188-5" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">data</span>(bluedata)<span class="op">;</span></span>
<span id="cb188-6"><a href="solutions.html#cb188-6" aria-hidden="true"></a>  </span>
<span id="cb188-7"><a href="solutions.html#cb188-7" aria-hidden="true"></a>circ<span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb188-8"><a href="solutions.html#cb188-8" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">duration</span>(<span class="dv">2000</span>)</span>
<span id="cb188-9"><a href="solutions.html#cb188-9" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;fill&quot;</span><span class="op">,</span> <span class="st">&quot;pink&quot;</span>)</span>
<span id="cb188-10"><a href="solutions.html#cb188-10" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;r&quot;</span><span class="op">,</span> d <span class="kw">=&gt;</span> d <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb188-11"><a href="solutions.html#cb188-11" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;cx&quot;</span><span class="op">,</span> d <span class="kw">=&gt;</span> <span class="dv">3</span> <span class="op">*</span> d)<span class="op">;</span></span></code></pre></div>
<p><em>Contributed by Tracy Liu</em></p>
</div>
<div id="update-enter-and-exit-horizontal-bar-chart" class="section level3 unnumbered hasAnchor" number="">
<h3>Update, Enter, and Exit: horizontal bar chart<a href="solutions.html#update-enter-and-exit-horizontal-bar-chart" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For this exercise open up your text editor. We will be operating inside the <code>&lt;script&gt;</code> tags.
Our goal is to create a horizontal bar chart.</p>
<p>The first step is to create the svg element where our graph will live in. We want to make sure to make it tall and wide enough to hold the data of the given array. We also store our data in an array.</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb189-1"><a href="solutions.html#cb189-1" aria-hidden="true"></a><span class="kw">const</span> bardata <span class="op">=</span> [<span class="dv">300</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="dv">150</span><span class="op">,</span> <span class="dv">225</span><span class="op">,</span> <span class="dv">75</span><span class="op">,</span> <span class="dv">275</span>]<span class="op">;</span></span>
<span id="cb189-2"><a href="solutions.html#cb189-2" aria-hidden="true"></a><span class="kw">const</span> svg <span class="op">=</span> d3<span class="op">.</span><span class="fu">select</span>(<span class="st">&quot;body&quot;</span>)</span>
<span id="cb189-3"><a href="solutions.html#cb189-3" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">append</span>(<span class="st">&quot;svg&quot;</span>)</span>
<span id="cb189-4"><a href="solutions.html#cb189-4" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;width&quot;</span><span class="op">,</span> <span class="st">&quot;700&quot;</span>)</span>
<span id="cb189-5"><a href="solutions.html#cb189-5" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;height&quot;</span><span class="op">,</span> <span class="st">&quot;400&quot;</span>)<span class="op">;</span></span></code></pre></div>
<p>Next we will bind the data to the DOM rectangles and store the selection in a variable called <code>bars</code>. Since there are no DOM rectangles (yet), the update and exit selections will be empty. Note that nothing will appear on the screen yet since the enter elements are not combined with DOM elements.</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb190-1"><a href="solutions.html#cb190-1" aria-hidden="true"></a><span class="kw">const</span> bars <span class="op">=</span> svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">&quot;rect&quot;</span>)</span>
<span id="cb190-2"><a href="solutions.html#cb190-2" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">data</span>(bardata)<span class="op">;</span></span></code></pre></div>
<p>Next step is to create DOM elements from the enter selection and give them the correct attributes to form a horizonal barchart. First we will set <code>x</code> to zero and then in order to set the <code>y</code> distances between the bars we will use each datapoint’s index. The mapping function for the <code>y</code> coordinate is <code>(d, i) =&gt; i * 25 + 10</code> works as follows:</p>
<p>When i = 0, y = 10, when i = 1, y = 35, when i = 2, y = 60, etc.</p>
<p>Lastly, we want each rectangle’s width to be equal to its data value.</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb191-1"><a href="solutions.html#cb191-1" aria-hidden="true"></a>bars<span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb191-2"><a href="solutions.html#cb191-2" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">append</span>(<span class="st">&quot;rect&quot;</span>)</span>
<span id="cb191-3"><a href="solutions.html#cb191-3" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;x&quot;</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb191-4"><a href="solutions.html#cb191-4" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;y&quot;</span><span class="op">,</span>  (d<span class="op">,</span> i) <span class="kw">=&gt;</span> i <span class="op">*</span> <span class="dv">25</span> <span class="op">+</span> <span class="dv">10</span>)</span>
<span id="cb191-5"><a href="solutions.html#cb191-5" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;width&quot;</span><span class="op">,</span> d <span class="kw">=&gt;</span> d)</span>
<span id="cb191-6"><a href="solutions.html#cb191-6" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;height&quot;</span><span class="op">,</span> <span class="st">&quot;20&quot;</span>)</span>
<span id="cb191-7"><a href="solutions.html#cb191-7" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;fill&quot;</span><span class="op">,</span> <span class="st">&quot;pink&quot;</span>)<span class="op">;</span></span></code></pre></div>
<p>The complete solution is <a href="solutions/horizontal_bar_chart.html" target="_blank">here</a></p>
<p><em>Contributed by Kassie Papasotiriou</em></p>
</div>
<div id="update-enter-and-exit-merge" class="section level3 unnumbered hasAnchor" number="">
<h3>Update, Enter, and Exit: merge<a href="solutions.html#update-enter-and-exit-merge" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>Change the data to any six other values and update the lengths of the bars.</li>
</ol>
<p>console:</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb192-1"><a href="solutions.html#cb192-1" aria-hidden="true"></a><span class="kw">const</span> bardata <span class="op">=</span> [<span class="dv">130</span><span class="op">,</span> <span class="dv">210</span><span class="op">,</span> <span class="dv">90</span><span class="op">,</span> <span class="dv">300</span><span class="op">,</span> <span class="dv">200</span><span class="op">,</span> <span class="dv">50</span>]<span class="op">;</span></span>
<span id="cb192-2"><a href="solutions.html#cb192-2" aria-hidden="true"></a><span class="kw">const</span> svg <span class="op">=</span> d3<span class="op">.</span><span class="fu">select</span>(<span class="st">&quot;svg&quot;</span>)<span class="op">;</span></span>
<span id="cb192-3"><a href="solutions.html#cb192-3" aria-hidden="true"></a><span class="kw">const</span> bars <span class="op">=</span> svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">&quot;rect&quot;</span>)</span>
<span id="cb192-4"><a href="solutions.html#cb192-4" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">data</span>(bardata)<span class="op">;</span></span>
<span id="cb192-5"><a href="solutions.html#cb192-5" aria-hidden="true"></a>    </span>
<span id="cb192-6"><a href="solutions.html#cb192-6" aria-hidden="true"></a>bars<span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb192-7"><a href="solutions.html#cb192-7" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">duration</span>(<span class="dv">2000</span>)</span>
<span id="cb192-8"><a href="solutions.html#cb192-8" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;width&quot;</span><span class="op">,</span> d <span class="kw">=&gt;</span> d)<span class="op">;</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Bind a new dataset, <code>newbardata</code> to the bars, update the bar lengths, and remove any extra bars.</li>
</ol>
<div class="sourceCode" id="cb193"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb193-1"><a href="solutions.html#cb193-1" aria-hidden="true"></a><span class="kw">const</span> newbardata <span class="op">=</span> [<span class="dv">250</span><span class="op">,</span> <span class="dv">125</span><span class="op">,</span> <span class="dv">80</span><span class="op">,</span> <span class="dv">100</span>]<span class="op">;</span></span>
<span id="cb193-2"><a href="solutions.html#cb193-2" aria-hidden="true"></a><span class="kw">const</span> svg <span class="op">=</span> d3<span class="op">.</span><span class="fu">select</span>(<span class="st">&quot;svg&quot;</span>)<span class="op">;</span></span>
<span id="cb193-3"><a href="solutions.html#cb193-3" aria-hidden="true"></a><span class="kw">const</span> bars <span class="op">=</span> svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">&quot;rect&quot;</span>)</span>
<span id="cb193-4"><a href="solutions.html#cb193-4" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">data</span>(newbardata)<span class="op">;</span></span>
<span id="cb193-5"><a href="solutions.html#cb193-5" aria-hidden="true"></a>  </span>
<span id="cb193-6"><a href="solutions.html#cb193-6" aria-hidden="true"></a>bars<span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb193-7"><a href="solutions.html#cb193-7" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">duration</span>(<span class="dv">2000</span>)</span>
<span id="cb193-8"><a href="solutions.html#cb193-8" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;width&quot;</span><span class="op">,</span> d <span class="kw">=&gt;</span> d)</span>
<span id="cb193-9"><a href="solutions.html#cb193-9" aria-hidden="true"></a>bars<span class="op">.</span><span class="fu">exit</span>()</span>
<span id="cb193-10"><a href="solutions.html#cb193-10" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb193-11"><a href="solutions.html#cb193-11" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">duration</span>(<span class="dv">2000</span>)</span>
<span id="cb193-12"><a href="solutions.html#cb193-12" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;width&quot;</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb193-13"><a href="solutions.html#cb193-13" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">remove</span>()<span class="op">;</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Bind a new dataset, <code>reallynewbardata</code>, to the bars, then add additional bars so each data value has a bar. Make the outline (stroke) of the new bars a different color.</li>
</ol>
<div class="sourceCode" id="cb194"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb194-1"><a href="solutions.html#cb194-1" aria-hidden="true"></a><span class="kw">const</span> reallynewbardata <span class="op">=</span> [<span class="dv">300</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="dv">250</span><span class="op">,</span> <span class="dv">50</span><span class="op">,</span> <span class="dv">200</span><span class="op">,</span> <span class="dv">150</span><span class="op">,</span> <span class="dv">325</span><span class="op">,</span> <span class="dv">275</span>]<span class="op">;</span></span>
<span id="cb194-2"><a href="solutions.html#cb194-2" aria-hidden="true"></a><span class="kw">const</span> svg <span class="op">=</span> d3<span class="op">.</span><span class="fu">select</span>(<span class="st">&quot;svg&quot;</span>)<span class="op">;</span></span>
<span id="cb194-3"><a href="solutions.html#cb194-3" aria-hidden="true"></a><span class="kw">const</span> bars <span class="op">=</span> svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">&quot;rect&quot;</span>)</span>
<span id="cb194-4"><a href="solutions.html#cb194-4" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">data</span>(reallynewbardata)<span class="op">;</span></span>
<span id="cb194-5"><a href="solutions.html#cb194-5" aria-hidden="true"></a>  </span>
<span id="cb194-6"><a href="solutions.html#cb194-6" aria-hidden="true"></a>bars<span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb194-7"><a href="solutions.html#cb194-7" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">duration</span>(<span class="dv">2000</span>)</span>
<span id="cb194-8"><a href="solutions.html#cb194-8" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;width&quot;</span><span class="op">,</span> d <span class="kw">=&gt;</span> d)</span>
<span id="cb194-9"><a href="solutions.html#cb194-9" aria-hidden="true"></a>bars<span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb194-10"><a href="solutions.html#cb194-10" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">append</span>(<span class="st">&quot;rect&quot;</span>)</span>
<span id="cb194-11"><a href="solutions.html#cb194-11" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;width&quot;</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb194-12"><a href="solutions.html#cb194-12" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;x&quot;</span><span class="op">,</span> <span class="dv">30</span>)</span>
<span id="cb194-13"><a href="solutions.html#cb194-13" aria-hidden="true"></a>   <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;y&quot;</span><span class="op">,</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="dv">50</span> <span class="op">*</span> i)</span>
<span id="cb194-14"><a href="solutions.html#cb194-14" aria-hidden="true"></a>   <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;height&quot;</span><span class="op">,</span> <span class="dv">35</span>)</span>
<span id="cb194-15"><a href="solutions.html#cb194-15" aria-hidden="true"></a>   <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;width&quot;</span><span class="op">,</span> d <span class="kw">=&gt;</span> d)</span>
<span id="cb194-16"><a href="solutions.html#cb194-16" aria-hidden="true"></a>   <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;fill&quot;</span><span class="op">,</span> <span class="st">&quot;lightgreen&quot;</span>)</span>
<span id="cb194-17"><a href="solutions.html#cb194-17" aria-hidden="true"></a>   <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;stroke&quot;</span><span class="op">,</span> <span class="st">&quot;pink&quot;</span>)</span>
<span id="cb194-18"><a href="solutions.html#cb194-18" aria-hidden="true"></a>   <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;stroke-width&quot;</span><span class="op">,</span> <span class="dv">5</span>)<span class="op">;</span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Use <code>.merge()</code> to combine the update and enter selections into one selection and then transition the length of all of the bars to half their current length.</li>
</ol>
<div class="sourceCode" id="cb195"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb195-1"><a href="solutions.html#cb195-1" aria-hidden="true"></a><span class="kw">const</span> reallynewbardata <span class="op">=</span> [<span class="dv">300</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="dv">250</span><span class="op">,</span> <span class="dv">50</span><span class="op">,</span> <span class="dv">200</span><span class="op">,</span> <span class="dv">150</span><span class="op">,</span> <span class="dv">325</span><span class="op">,</span> <span class="dv">275</span>]<span class="op">;</span></span>
<span id="cb195-2"><a href="solutions.html#cb195-2" aria-hidden="true"></a><span class="kw">const</span> svg <span class="op">=</span> d3<span class="op">.</span><span class="fu">select</span>(<span class="st">&quot;svg&quot;</span>)<span class="op">;</span></span>
<span id="cb195-3"><a href="solutions.html#cb195-3" aria-hidden="true"></a><span class="kw">const</span> bars <span class="op">=</span> svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">&quot;rect&quot;</span>)</span>
<span id="cb195-4"><a href="solutions.html#cb195-4" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">data</span>(reallynewbardata)<span class="op">;</span></span>
<span id="cb195-5"><a href="solutions.html#cb195-5" aria-hidden="true"></a>    </span>
<span id="cb195-6"><a href="solutions.html#cb195-6" aria-hidden="true"></a>bars<span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb195-7"><a href="solutions.html#cb195-7" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">append</span>(<span class="st">&quot;rect&quot;</span>)</span>
<span id="cb195-8"><a href="solutions.html#cb195-8" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;x&quot;</span><span class="op">,</span> <span class="dv">30</span>)</span>
<span id="cb195-9"><a href="solutions.html#cb195-9" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;y&quot;</span><span class="op">,</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="dv">50</span> <span class="op">*</span> i)</span>
<span id="cb195-10"><a href="solutions.html#cb195-10" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;height&quot;</span><span class="op">,</span> <span class="dv">35</span>)</span>
<span id="cb195-11"><a href="solutions.html#cb195-11" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;width&quot;</span><span class="op">,</span> d <span class="kw">=&gt;</span> d)</span>
<span id="cb195-12"><a href="solutions.html#cb195-12" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;fill&quot;</span><span class="op">,</span> <span class="st">&quot;lightgreen&quot;</span>)</span>
<span id="cb195-13"><a href="solutions.html#cb195-13" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;stroke&quot;</span><span class="op">,</span> <span class="st">&quot;pink&quot;</span>)</span>
<span id="cb195-14"><a href="solutions.html#cb195-14" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;stroke-width&quot;</span><span class="op">,</span> <span class="dv">5</span>)</span>
<span id="cb195-15"><a href="solutions.html#cb195-15" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">merge</span>(bars)</span>
<span id="cb195-16"><a href="solutions.html#cb195-16" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb195-17"><a href="solutions.html#cb195-17" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">duration</span>(<span class="dv">2000</span>)</span>
<span id="cb195-18"><a href="solutions.html#cb195-18" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;height&quot;</span><span class="op">,</span> <span class="st">&quot;35&quot;</span>)</span>
<span id="cb195-19"><a href="solutions.html#cb195-19" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;width&quot;</span><span class="op">,</span> d <span class="kw">=&gt;</span> d)<span class="op">;</span></span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>Add text labels inside the bars at the right end with the length of the bar in pixels.</li>
</ol>
<div class="sourceCode" id="cb196"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb196-1"><a href="solutions.html#cb196-1" aria-hidden="true"></a><span class="kw">const</span> reallynewbardata <span class="op">=</span> [<span class="dv">300</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="dv">250</span><span class="op">,</span> <span class="dv">50</span><span class="op">,</span> <span class="dv">200</span><span class="op">,</span> <span class="dv">150</span><span class="op">,</span> <span class="dv">325</span><span class="op">,</span> <span class="dv">275</span>]<span class="op">;</span></span>
<span id="cb196-2"><a href="solutions.html#cb196-2" aria-hidden="true"></a><span class="kw">const</span> svg <span class="op">=</span> d3<span class="op">.</span><span class="fu">select</span>(<span class="st">&quot;svg&quot;</span>)<span class="op">;</span></span>
<span id="cb196-3"><a href="solutions.html#cb196-3" aria-hidden="true"></a><span class="kw">const</span> bartext <span class="op">=</span> svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">&quot;text&quot;</span>)</span>
<span id="cb196-4"><a href="solutions.html#cb196-4" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">data</span>(reallynewbardata)<span class="op">;</span></span>
<span id="cb196-5"><a href="solutions.html#cb196-5" aria-hidden="true"></a>  </span>
<span id="cb196-6"><a href="solutions.html#cb196-6" aria-hidden="true"></a>bartext<span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb196-7"><a href="solutions.html#cb196-7" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">append</span>(<span class="st">&quot;text&quot;</span>)</span>
<span id="cb196-8"><a href="solutions.html#cb196-8" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;x&quot;</span><span class="op">,</span> d <span class="kw">=&gt;</span> d <span class="op">-</span> <span class="dv">5</span>)</span>
<span id="cb196-9"><a href="solutions.html#cb196-9" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;y&quot;</span><span class="op">,</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="dv">50</span> <span class="op">*</span> i <span class="op">+</span> <span class="dv">12</span>)</span>
<span id="cb196-10"><a href="solutions.html#cb196-10" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">text</span>(d <span class="kw">=&gt;</span> d)<span class="op">;</span></span></code></pre></div>
<p><em>Contributed by Tracy Liu</em></p>
</div>
<div id="update-enter-and-exit-functions" class="section level3 unnumbered hasAnchor" number="">
<h3>Update, Enter, and Exit: functions<a href="solutions.html#update-enter-and-exit-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Question Answers</strong></p>
<p>Since there are no questions we will try out a few things and explain why the bars are behaving that way. Open up the file on Chrome and type the following in you Console:</p>
<ol style="list-style-type: decimal">
<li>By running the code below we are rebinding the new data to the DOM elements. In this case, the inital data and the new data have the same length so no new elements will be added and none will be removed. We update the data, change the fill and then change the width.</li>
</ol>
<div class="sourceCode" id="cb197"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb197-1"><a href="solutions.html#cb197-1" aria-hidden="true"></a><span class="fu">update</span>([<span class="dv">100</span><span class="op">,</span> <span class="dv">200</span><span class="op">,</span> <span class="dv">300</span><span class="op">,</span> <span class="dv">400</span><span class="op">,</span> <span class="dv">200</span><span class="op">,</span> <span class="dv">300</span>])<span class="op">;</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>By running the code below, the two data values are bound to the first two DOM elements. The color and width are changed the extra DOM elements that did not receive data values are removed.</li>
</ol>
<div class="sourceCode" id="cb198"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb198-1"><a href="solutions.html#cb198-1" aria-hidden="true"></a><span class="fu">update</span>([<span class="dv">200</span><span class="op">,</span> <span class="dv">400</span>])<span class="op">;</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>By running the code below (without refreshing the page from 2.), we bind the data, and two of the values will be in the enter selection. For those two values we create two more DOM elements, fill them with yellow and adjust their width. Next we merge all elements together and to the merge selection we readjust the widths to make sure that all elements have the correct length and we turn them to orange. Note that since in this scenario we had enter elements there will be nothing in the exit selection.</li>
</ol>
<div class="sourceCode" id="cb199"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb199-1"><a href="solutions.html#cb199-1" aria-hidden="true"></a><span class="fu">update</span>([<span class="dv">200</span><span class="op">,</span> <span class="dv">300</span><span class="op">,</span> <span class="dv">200</span><span class="op">,</span> <span class="dv">125</span>])<span class="op">;</span></span></code></pre></div>
</div>
<div id="update-enter-and-exit-vertical-bar-chart" class="section level3 unnumbered hasAnchor" number="">
<h3>Update, Enter, and Exit: vertical bar chart<a href="solutions.html#update-enter-and-exit-vertical-bar-chart" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Question Answers</strong></p>
<p>In order to change a horizontal bar chart to a vertical barchart we need to first flip the <code>x</code> and <code>y</code> coordinates. If we only make this change we will notice that our barchart is not vertical but it is flipped (meaning that all bars seem to be upside-down). This is because the coordinate system in the svg starts from the top left and not the bottom left as we are used to.</p>
<p>Therefore in order to bring everything “down”, we need to tweak the <code>y</code> coordinate. In order to do that we can subtract from the height of the svg the data value of each bar. In this way all bars will end at 400 and start <code>d</code> pixels before the end.</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb200-1"><a href="solutions.html#cb200-1" aria-hidden="true"></a><span class="co">// Create svg with same data</span></span>
<span id="cb200-2"><a href="solutions.html#cb200-2" aria-hidden="true"></a></span>
<span id="cb200-3"><a href="solutions.html#cb200-3" aria-hidden="true"></a><span class="kw">const</span> svg <span class="op">=</span> d3<span class="op">.</span><span class="fu">select</span>(<span class="st">&quot;body&quot;</span>)</span>
<span id="cb200-4"><a href="solutions.html#cb200-4" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">append</span>(<span class="st">&quot;svg&quot;</span>)</span>
<span id="cb200-5"><a href="solutions.html#cb200-5" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;width&quot;</span><span class="op">,</span> <span class="st">&quot;500&quot;</span>)</span>
<span id="cb200-6"><a href="solutions.html#cb200-6" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;height&quot;</span><span class="op">,</span> <span class="st">&quot;400&quot;</span>)<span class="op">;</span></span>
<span id="cb200-7"><a href="solutions.html#cb200-7" aria-hidden="true"></a><span class="kw">const</span> bardata <span class="op">=</span> [<span class="dv">300</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="dv">150</span><span class="op">,</span> <span class="dv">225</span><span class="op">,</span> <span class="dv">75</span><span class="op">,</span> <span class="dv">275</span>]<span class="op">;</span></span>
<span id="cb200-8"><a href="solutions.html#cb200-8" aria-hidden="true"></a><span class="kw">const</span> bars <span class="op">=</span> svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">&quot;rect&quot;</span>)</span>
<span id="cb200-9"><a href="solutions.html#cb200-9" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">data</span>(bardata)<span class="op">;</span></span>
<span id="cb200-10"><a href="solutions.html#cb200-10" aria-hidden="true"></a>  </span>
<span id="cb200-11"><a href="solutions.html#cb200-11" aria-hidden="true"></a>bars<span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb200-12"><a href="solutions.html#cb200-12" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">append</span>(<span class="st">&quot;rect&quot;</span>)</span>
<span id="cb200-13"><a href="solutions.html#cb200-13" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;x&quot;</span><span class="op">,</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> i <span class="op">*</span> <span class="dv">50</span> <span class="op">+</span> <span class="dv">50</span>)</span>
<span id="cb200-14"><a href="solutions.html#cb200-14" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;y&quot;</span><span class="op">,</span> d <span class="kw">=&gt;</span> <span class="dv">400</span> <span class="op">-</span> d)</span>
<span id="cb200-15"><a href="solutions.html#cb200-15" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;width&quot;</span><span class="op">,</span> <span class="st">&quot;35&quot;</span>)</span>
<span id="cb200-16"><a href="solutions.html#cb200-16" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;height&quot;</span><span class="op">,</span> d <span class="kw">=&gt;</span> d)</span>
<span id="cb200-17"><a href="solutions.html#cb200-17" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;fill&quot;</span><span class="op">,</span> <span class="st">&quot;lightgreen&quot;</span>)<span class="op">;</span></span></code></pre></div>
<p>In addition to that, we need to reflect those changes in the update function and in addition to updating all bar’s heights we need to also update all bars<code>new</code>y` coordinates.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb201-1"><a href="solutions.html#cb201-1" aria-hidden="true"></a>bars<span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb201-2"><a href="solutions.html#cb201-2" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">append</span>(<span class="st">&quot;rect&quot;</span>) <span class="co">// add new elements</span></span>
<span id="cb201-3"><a href="solutions.html#cb201-3" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;x&quot;</span><span class="op">,</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> i <span class="op">*</span> <span class="dv">50</span> <span class="op">+</span> <span class="dv">50</span>)</span>
<span id="cb201-4"><a href="solutions.html#cb201-4" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;y&quot;</span><span class="op">,</span> d <span class="kw">=&gt;</span> <span class="dv">400</span> <span class="op">-</span> d)</span>
<span id="cb201-5"><a href="solutions.html#cb201-5" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;width&quot;</span><span class="op">,</span> <span class="st">&quot;35&quot;</span>)</span>
<span id="cb201-6"><a href="solutions.html#cb201-6" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;height&quot;</span><span class="op">,</span> d <span class="kw">=&gt;</span> d)</span>
<span id="cb201-7"><a href="solutions.html#cb201-7" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;fill&quot;</span><span class="op">,</span> <span class="st">&quot;yellow&quot;</span>)</span>
<span id="cb201-8"><a href="solutions.html#cb201-8" aria-hidden="true"></a>  <span class="op">.</span><span class="fu">merge</span>(bars) <span class="co">// merge</span></span>
<span id="cb201-9"><a href="solutions.html#cb201-9" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">transition</span>()</span>
<span id="cb201-10"><a href="solutions.html#cb201-10" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">duration</span>(<span class="dv">2000</span>)</span>
<span id="cb201-11"><a href="solutions.html#cb201-11" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;y&quot;</span><span class="op">,</span> d <span class="kw">=&gt;</span> <span class="dv">400</span> <span class="op">-</span> d)</span>
<span id="cb201-12"><a href="solutions.html#cb201-12" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;height&quot;</span><span class="op">,</span> d <span class="kw">=&gt;</span> d)</span>
<span id="cb201-13"><a href="solutions.html#cb201-13" aria-hidden="true"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">&quot;fill&quot;</span><span class="op">,</span> <span class="st">&quot;orange&quot;</span>)<span class="op">;</span></span></code></pre></div>
<p>The complete solution is <a href="solutions/general_update_pattern_vertical.html" target="_blank">here</a></p>
<p><em>Contributed by Kassie Papasotiriou</em></p>
</div>
<div id="transitions-bar-chart-with-transitions" class="section level3 unnumbered hasAnchor" number="">
<h3>Transitions: bar chart with transitions<a href="solutions.html#transitions-bar-chart-with-transitions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="https://raw.githubusercontent.com/jtr13/d3book/main/solutions/bar_transition_solution.html" target="_blank">code for download</a></p>
<p><a href="solutions/bar_transition_solution.html" target="_blank">rendered version</a></p>

</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="general-advice.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="correlation-coefficient.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jtr13/d3book/edit/main/solutions.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/jtr13/d3book/blob/main/solutions.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
